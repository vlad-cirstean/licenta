<!DOCTYPE html>
<html lang="en">

<head>
    <title>Cardinal.js - Mini Framework for building web applications</title>

    <meta charset="UTF-8">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon.png">
    <link href="/assets/css/main.css" rel="stylesheet" type="text/css">

    <meta name="google-site-verification" content="DVCv8yEO9mQlllqxKBXiKh6JS1_jg-6kFoKkSAg8k_w"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
</head>

<body>
<psk-app-root>
    <header>
        <img class="cardinal-logo" width="38px" height="38px" src="/assets/images/cardinal.png"/>
        <app-menu></app-menu>
    </header>
    <section>
        <textarea id="codeMirror" rows="10" cols="100"></textarea>
        <hr>
        <textarea id="codeMirror2" rows="10" cols="100"></textarea>
        <psk-app-router failRedirectTo="/home"></psk-app-router>
    </section>
</psk-app-root>

<script src="/scripts/privatesky/webshims.js"></script>
<script src="/scripts/privatesky/bindableModel.js"></script>

<script type="module" src="/cardinal/cardinal.esm.js"></script>
<script nomodule src="/cardinal.js"></script>
<script>
    globalConfig = {
        theme: 'cardinal'
    };
</script>

<script src="assets/codemirror/codemirror.js"></script>
<link rel="stylesheet" href="assets/codemirror/codemirror.css">
<script src="assets/codemirror/javascript.js"></script>
<script src="assets/crdt/crdt.js"></script>
<script>
    const crdt = new Crdt(document.getElementById('codeMirror'));
    crdt.addEventListener('insert', (e) => crdt2.insertChar(e.detail));
    crdt.addEventListener('delete', (e) => crdt2.deleteChar(e.detail));

    const crdt2 = new Crdt(document.getElementById('codeMirror2'));
    crdt2.addEventListener('insert', (e) => crdt.insertChar(e.detail));
    crdt2.addEventListener('delete', (e) => crdt.deleteChar(e.detail));
</script>
</body>

</html>
